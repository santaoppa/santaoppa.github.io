---
title: "[React] useReducerë€?"
excerpt: "ì—¬ëŸ¬ ê°œì˜ stateë¥¼ í•˜ë‚˜ì˜ reducerë¡œ í†µí•©í•´ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” Hook"

categories:
  - React
tags:
  - [React]

toc: true
toc_sticky: true

date: 2025-04-28
last_modified_at: 2025-04-28
---

## useReducerë€?
ì—¬ëŸ¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ í•˜ë‚˜ì˜ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜,   
ë¶€ëª¨ì™€ ìì‹ ì»´í¬ë„ŒíŠ¸ ê°„ ê´€ê³„ê°€ ë³µì¡í•  ê²½ìš° ìƒíƒœ ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤.

**useReducer**ëŠ” `useState`ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” Hookìœ¼ë¡œ, ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì„ **ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì— ë‹¨ì¼ í•¨ìˆ˜(reducer)**ë¡œ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.  
ì´ë¥¼ í†µí•´ ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì„ ëª…í™•í•˜ê²Œ ì •ë¦¬í•˜ê³ , ë³µì¡í•œ `state` ê´€ë¦¬ë¥¼ ê¹”ë”í•˜ê²Œ í†µí•©í•  ìˆ˜ ìˆë‹¤.
<br/>
  
## useReducer êµ¬ì„± ìš”ì†Œ
```jsx
import { useReducer } from 'react';

function reducer(state, action) {
  // ...
}

function MyComponent() {
  const [state, dispatch] = useReducer(reducer, { age: 42 });
``` 
`useReducer`ë¥¼ ì»´í¬ë„ŒíŠ¸ì˜ ìµœìƒìœ„ì— í˜¸ì¶œí•˜ê³ , `reducer`ë¥¼ ì´ìš©í•´ `state`ë¥¼ ê´€ë¦¬í•¨  
<br/>

```js
useReducer(reducer, initialArg, init?)
``` 
<h3>ë§¤ê°œë³€ìˆ˜ </h3>

- **reducer í•¨ìˆ˜** : ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ **state ì—…ë°ì´íŠ¸ ë¡œì§**ì„ ë‹´ë‹¹í•œë‹¤.
`state`ì™€ `action`ì„ ì¸ìˆ˜ë¡œ ë°›ì•„ì•¼ í•˜ê³ , ë‹¤ìŒ `state`ë¥¼ ë°˜í™˜í•´ì•¼ í•¨
- **initialArg** : ì´ˆê¸° `state`ê°€ ê³„ì‚°ë˜ëŠ” ê°’
- *(ì„ íƒì‚¬í•­)init* : ì´ˆê¸° `state`ë¥¼ ë°˜í™˜í•˜ëŠ” ì´ˆê¸°í™” í•¨ìˆ˜
<br/>

<h3>â¡ï¸ ë°˜í™˜ê°’</h3>

1. í˜„ì¬ `state`
2. `dispatch` í•¨ìˆ˜
<br/>

## dispatch í•¨ìˆ˜
```js
function handleClick() {
  dispatch({ type: 'incremented_age' });
  // ...
```
`useReducer`ì— ì˜í•´ ë°˜í™˜ë˜ëŠ” `dispatch` í•¨ìˆ˜ëŠ” `state`ë¥¼ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ **ì—…ë°ì´íŠ¸**í•˜ê³  ë¦¬ë Œë”ë§ì„ ì¼ìœ¼í‚´

<h3>ë§¤ê°œë³€ìˆ˜ </h3>

- **action** : `dispatch`ì˜ ì¸ìë¡œ ì „ë‹¬ë˜ëŠ” ê°ì²´ë¡œ, **state ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ì •ë³´**ë¥¼ ë‹´ê³  ìˆë‹¤.
<br/>
   
  
## useReducer ì‚¬ìš©ë²•
### 1ï¸âƒ£ reducer í•¨ìˆ˜ ì‘ì„±í•˜ê¸°
í˜„ì¬ì˜ `state` ê°’ê³¼ `action` ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ê³  `state` ê°’ì„ ë°˜í™˜í•¨
```js
function tasksReducer(tasks, action) {
  switch (action.type) {
    case 'added': {
      return [...tasks, {
        id: action.id,
        text: action.text,
        done: false
      }];
    }
    case 'changed': {
      return tasks.map(t => {
        if (t.id === action.task.id) {
          return action.task;
        } else {
          return t;
        }
      });
    }
    case 'deleted': {
      return tasks.filter(t => t.id !== action.id);
    }
    default: {
      throw Error('Unknown action: ' + action.type);
    }
  }
}
```
> âš ï¸ reducerëŠ” ë Œë”ë§ ì¤‘ì— ì‹¤í–‰ë˜ë¯€ë¡œ, ì…ë ¥ì´ ê°™ìœ¼ë©´ í•­ìƒ ê°™ì€ ì¶œë ¥ì„ ë³´ì¥í•´ì•¼ í•œë‹¤.
(ê¸°ì¡´ ê°ì²´ì™€ ë°°ì—´ì„ ì§ì ‘ ë³€ê²½í•˜ì§€ ì•Šê³ , ìƒˆë¡­ê²Œ ë³µì‚¬í•˜ì—¬ ì—…ë°ì´íŠ¸í•´ì•¼ í•¨)
<br/>

### 2ï¸âƒ£ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ dispatch ì‚¬ìš©í•˜ê¸°
`useState`ì˜ setter í•¨ìˆ˜ ëŒ€ì‹  `dispatch`ë¡œ `action`ì„ ë³´ë‚´ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•œë‹¤.

<h3>ğŸš« ë³€ê²½ ì „</h3>

```js
const [tasks, setTasks] = useState(initialTasks);

function handleAddTask(text) {
  setTasks([...tasks, {
    id: nextId++,
    text: text,
    done: false
  }]);
}

function handleChangeTask(task) {
  setTasks(tasks.map(t => {
    if (t.id === task.id) {
      return task;
    } else {
      return t;
    }
  }));
}

function handleDeleteTask(taskId) {
  setTasks(
    tasks.filter(t => t.id !== taskId)
  );
}
```

<h3>â˜‘ï¸ ë³€ê²½ í›„</h3>

```js
function handleAddTask(text) {
  dispatch({
    type: 'added',
    id: nextId++,
    text: text,
  });
}

function handleChangeTask(task) {
  dispatch({
    type: 'changed',
    task: task
  });
}

function handleDeleteTask(taskId) {
  dispatch({
    type: 'deleted',
    id: taskId
  });
}
```
<br/>

### 3ï¸âƒ£ ì»¨í¬ë„ŒíŠ¸ì—ì„œ useReducer ì‚¬ìš©í•˜ê¸°
```js
import { useReducer } from 'react';

const [tasks, dispatch] = useReducer(tasksReducer, initialTasks);
```
<br/>
 

## Immerë¡œ reducer ì‘ì„±í•˜ê¸°
immerë¥¼ í™œìš©í•˜ë©´ ë¶ˆë³€ì„±ì„ ì§ì ‘ ì‹ ê²½ ì“°ì§€ ì•Šê³  reducerë¥¼ ë” ê°„ë‹¨íˆ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
```js
import {useImmerReducer} from 'use-immer';
```

```js
const [tasks, dispatch] = useImmerReducer(tasksReducer, initialTasks);
```
<br/>

### â˜‘ï¸ useImmerReducerë¡œ ì‘ì„±í•œ ì˜ˆì‹œ
```js
function tasksReducer(draft, action) {
  switch (action.type) {
    case 'added': {
      draft.push( { id: action.id, text: .text, done: false})
      break;
    }
    case 'changed': {
      const target = draft.find(item => item.id === action.task.id);
      target.task = action.task;
      break;
    }
    case 'deleted': {
      return draft.filter(t => t.id !== action.id);
    }
    default: {
      throw Error('Unknown action: ' + action.type);
    }
  }
}
```
